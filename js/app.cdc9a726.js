(function(e){function t(t){for(var n,o,s=t[0],d=t[1],l=t[2],c=0,u=[];c<s.length;c++)o=s[c],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&u.push(a[o][0]),a[o]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n]);p&&p(t);while(u.length)u.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var s=r[o];0!==a[s]&&(n=!1)}n&&(i.splice(t--,1),e=d(d.s=r[0]))}return e}var n={},o={app:0},a={app:0},i=[];function s(e){return d.p+"js/"+({about:"about"}[e]||e)+"."+{about:"fb103811"}[e]+".js"}function d(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,d),r.l=!0,r.exports}d.e=function(e){var t=[],r={about:1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=new Promise((function(t,r){for(var n="css/"+({about:"about"}[e]||e)+"."+{about:"9d5f844a"}[e]+".css",a=d.p+n,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var l=i[s],c=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(c===n||c===a))return t()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){l=u[s],c=l.getAttribute("data-href");if(c===n||c===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete o[e],p.parentNode.removeChild(p),r(i)},p.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){o[e]=0})));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=i);var l,c=document.createElement("script");c.charset="utf-8",c.timeout=120,d.nc&&c.setAttribute("nonce",d.nc),c.src=s(e);var u=new Error;l=function(t){c.onerror=c.onload=null,clearTimeout(p);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",u.name="ChunkLoadError",u.type=n,u.request=o,r[1](u)}a[e]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:c})}),12e4);c.onerror=c.onload=l,document.head.appendChild(c)}return Promise.all(t)},d.m=e,d.c=n,d.d=function(e,t,r){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},d.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(d.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)d.d(r,n,function(t){return e[t]}.bind(null,n));return r},d.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="/menu-order-with-vue/",d.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var p=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("85ec"),o=r.n(n);o.a},"0e3a":function(e,t,r){"use strict";var n=r("8d1a"),o=r.n(n);o.a},1274:function(e,t,r){"use strict";var n=r("e9ee"),o=r.n(n);o.a},"21ca":function(e,t,r){"use strict";var n=r("3a7e"),o=r.n(n);o.a},"32dc":function(e,t,r){"use strict";var n=r("bc3a"),o=r.n(n),a=o.a.create({baseURL:"http://localhost:3000",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}});t["a"]={getAllDishes:function(){return a.get("/dishes")},postOrder:function(e){return a.post("/orders",e)}}},"3a7e":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[r("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" | "),r("router-link",{attrs:{to:"/menu"}},[e._v("Menu")]),e._v(" | "),r("router-link",{attrs:{to:"/order"}},[e._v("Order")])],1),r("router-view")],1)},a=[],i=(r("034f"),r("2877")),s={},d=Object(i["a"])(s,o,a,!1,null,null,null),l=d.exports,c=(r("d3b7"),r("8c4f")),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("img",{attrs:{alt:"SingCafe",src:"https://i.ibb.co/QY2b0cB/Sing-Cafe-board.jpg"}}),r("HelloWorld",{attrs:{msg:"Welcome to my Vue.js menu-order App"}})],1)},p=[],h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("h1",[e._v(e._s(e.msg))])])},f=[],m={name:"HelloWorld",props:{msg:String}},v=m,g=(r("1274"),Object(i["a"])(v,h,f,!1,null,"2d840bdb",null)),b=g.exports,_={name:"Home",components:{HelloWorld:b}},y=_,O=Object(i["a"])(y,u,p,!1,null,null,null),w=O.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h4",[e._v("Ready for some SingCafe dishes?")]),r("form",{on:{submit:function(t){return t.preventDefault(),e.submitOrder(t)}}},[r("div",{staticClass:"field"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.order.dish,expression:"order.dish"}],attrs:{required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.order,"dish",t.target.multiple?r:r[0])}}},e._l(e.allDishes,(function(t,n){return r("option",{key:n},[e._v(" "+e._s(t.title)+" ")])})),0)]),r("div",{staticClass:"field"},[r("label",[e._v("Special needs")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.order.specialNeeds,expression:"order.specialNeeds"}],attrs:{type:"text",placeholder:"Special needs for the dish, if any"},domProps:{value:e.order.specialNeeds},on:{input:function(t){t.target.composing||e.$set(e.order,"specialNeeds",t.target.value)}}})]),r("h3",[e._v("Address & Date")]),r("div",{staticClass:"field"},[r("label",[e._v("Postcode")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.order.postcode,expression:"order.postcode"}],attrs:{type:"number",required:""},domProps:{value:e.order.postcode},on:{input:function(t){t.target.composing||e.$set(e.order,"postcode",t.target.value)}}})]),r("div",{staticClass:"field"},[r("label",[e._v("Date")]),r("datepicker",{attrs:{highlighted:e.highlightedDate,required:""},model:{value:e.order.date,callback:function(t){e.$set(e.order,"date",t)},expression:"order.date"}})],1),r("div",{staticClass:"field"},[r("label",[e._v("Address")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.order.address,expression:"order.address"}],attrs:{type:"text",placeholder:"Address for delivery",required:""},domProps:{value:e.order.address},on:{input:function(t){t.target.composing||e.$set(e.order,"address",t.target.value)}}})]),r("h3",[e._v("Name & Contact")]),r("div",{staticClass:"field"},[r("label",[e._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.order.name,expression:"order.name"}],attrs:{type:"text",placeholder:"Name",required:""},domProps:{value:e.order.name},on:{input:function(t){t.target.composing||e.$set(e.order,"name",t.target.value)}}})]),r("div",{staticClass:"field"},[r("label",[e._v("Mobile Number")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.order.mobile,expression:"order.mobile"}],attrs:{type:"number",placeholder:"Your mobile",minlength:"8",required:""},domProps:{value:e.order.mobile},on:{input:function(t){t.target.composing||e.$set(e.order,"mobile",t.target.value)}}})]),r("input",{staticClass:"order-button",attrs:{type:"submit",value:"Make Order"}})])])},C=[],D=r("5530"),j=r("2f62"),N=r("fa33"),A={components:{datepicker:N["a"]},name:"OrderMenu",data:function(){return{order:this.generateFreshNewOrder(),todayDate:new Date}},methods:{submitOrder:function(){this.validateOrder(this.order)?this.$store.dispatch("submitOrderAction",{orderObj:this.order}).then(this.order=this.generateFreshNewOrder()):alert('Sorry, DB disconnected. Please click "Menu" on top and use wechat to order.')},validateOrder:function(){return!1},generateFreshNewOrder:function(){var e=Math.floor(1e6*Math.random());return{id:e,name:"",dish:"",mobile:"",postcode:"",address:"",date:this.todayDate,specialNeeds:""}}},computed:Object(D["a"])(Object(D["a"])({},Object(j["b"])(["allDishes"])),{},{highlightedDate:function(){return 670148==this.order.postcode?{days:[2,4]}:{days:[1,3,5]}}}),created:function(){this.$store.dispatch("fetchAllDishes")}},x=A,k=(r("21ca"),Object(i["a"])(x,S,C,!1,null,"54d4e530",null)),E=k.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"dish-header"},[r("h3",{staticClass:"title"},[e._v(e._s(e.dish.title))]),r("h3",{staticClass:"title"},[e._v(e._s(e.dish["english-title"]))]),r("h5",[e._v("Producer: "+e._s(e.dish.owner?e.dish.owner:""))]),r("h5",[e._v("Category: "+e._s(e.dish.category))])]),r("BaseIcon",{attrs:{name:"map"}},[r("h2",[e._v("Location")])]),r("address",[e._v(e._s(e.dish.location))])],1)},L=[],$=(r("7db0"),{name:"DishInfo",props:["id"],created:function(){},computed:Object(D["a"])(Object(D["a"])({},Object(j["b"])(["allDishes"])),{},{dish:function(){var e=this;return this.allDishes.find((function(t){return t.id==e.id}))}})}),M=$,T=(r("0e3a"),Object(i["a"])(M,P,L,!1,null,"de98ff56",null)),B=T.exports;n["a"].use(c["a"]);var H=[{path:"/",name:"Home",component:w},{path:"/menu",name:"Menu",component:function(){return r.e("about").then(r.bind(null,"9a0b"))}},{path:"/order",name:"Order",component:E},{path:"/dish/:id",name:"dish-info",component:B,props:!0}],q=new c["a"]({routes:H}),I=q,R=r("32dc");n["a"].use(j["a"]);var F=new j["a"].Store({state:{allDishes:[],allOrders:[]},mutations:{SET_ALL_DISHES:function(e,t){e.allDishes=t},ADD_ORDER:function(e,t){e.allOrders.push(t)}},actions:{fetchAllDishes:function(e){var t=e.commit;R["a"].getAllDishes().then((function(e){t("SET_ALL_DISHES",e.data)})).catch((function(e){console.log("There is error for"),console.log(e.response),t("SET_ALL_DISHES",[{id:1,title:"盐焗鸡腿饭",price:6.8,size:1,location:"Lau Pa Sat","english-title":"Salted Baked Chicken Rice",owner:"Chef Mao",category:"Rice set",attendees:[{id:"abc123",name:"PSS"},{id:"def456",name:"XZ"}]},{id:5,title:"盐焗鸡腿干捞面",price:6.8,size:1,location:"Lau Pa Sat","english-title":"Salted Baked Chicken dry noodle",owner:"Chef Mao",category:"Noodle set",attendees:[{id:"abc123",name:"Adam Jahr"},{id:"ghi789",name:"Beth Swanson"}]},{id:6,title:"鲜茄洋葱牛肉/猪扒",price:15.8,size:"2~3",location:"Lau Pa Sat","english-title":"Tomato and onion beef/pork",owner:"Chef Mao",category:"Cusine (no rice)",attendees:[{id:"abc123",name:"Adam Jahr"},{id:"ghi789",name:"Beth Swanson"}]}])}))},submitOrderAction:function(e,t){var r=e.commit,n=t.orderObj;console.log("orderObj in action:",n),R["a"].postOrder(n).then((function(){return r("ADD_ORDER",n)})).catch((function(e){console.log("There is error for"),console.log(e.response)}))}},modules:{}}),J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"icon-wrapper"},[r("svg",{staticClass:"icon",attrs:{width:e.width,height:e.height}},[r("use",e._b({},"use",{"xlink:href":"/feather-sprite.svg#"+e.name},!1))]),e._t("default")],2)},W=[],z=(r("a9e3"),{name:"Icon",props:{name:String,width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}}}),U=z,Y=(r("814d"),Object(i["a"])(U,J,W,!1,null,"7e156afe",null)),K=Y.exports;n["a"].config.productionTip=!1,n["a"].component("BaseIcon",K),new n["a"]({router:I,store:F,render:function(e){return e(l)}}).$mount("#app")},"68e3":function(e,t,r){},"814d":function(e,t,r){"use strict";var n=r("68e3"),o=r.n(n);o.a},"85ec":function(e,t,r){},"8d1a":function(e,t,r){},e9ee:function(e,t,r){}});
//# sourceMappingURL=app.cdc9a726.js.map